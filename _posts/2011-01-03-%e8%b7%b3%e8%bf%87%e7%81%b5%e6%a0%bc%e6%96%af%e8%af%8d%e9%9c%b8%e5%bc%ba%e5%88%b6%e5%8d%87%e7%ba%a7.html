--- 
layout: post
title: "\xE8\xB7\xB3\xE8\xBF\x87\xE7\x81\xB5\xE6\xA0\xBC\xE6\x96\xAF\xE8\xAF\x8D\xE9\x9C\xB8\xE5\xBC\xBA\xE5\x88\xB6\xE5\x8D\x87\xE7\xBA\xA7"
categories: 
- "\xE6\xB5\x81\xE5\x85\xA5"
- "\xE9\x80\x90\xE6\xB5\xAA"
tags: 
- "\xE6\x89\xB9\xE5\xA4\x84\xE7\x90\x86"
- "\xE7\x81\xB5\xE6\xA0\xBC\xE6\x96\xAF"
- "\xE8\xBD\xAF\xE4\xBB\xB6"
status: publish
type: post
published: true
meta: 
  _edit_last: "1"
---
<p>by:hmgle</p><p>灵格斯词霸是我用的比较频繁的一个软件。虽说词典软件还有星际译王，而且星际译王还是开源的，但它在Windows平台下运行有点慢，不知道是不是GTK的缘故，那个gedit在Windows下也是奇慢无比。</p>2011年刚来，灵格斯给我们带来了新年礼物，就是那个讨厌的强制旧版本升级啦。不升级就自动退出。这样对灵格斯的某些用户来说是很扫兴的。<br/>当然，对灵格斯进行逆向分析，修改它的代码，是可以达到不升级继续使用的目的的，这活儿<a target="_blank" href="http://bbs.pediy.com/">看雪</a>的人在行。但这样做是违反<a target="_blank" href="http://www.lingoes.cn/zh/translator/license.htm">『灵格斯翻译家』最终用户许可协议</a>的（协议里面有一条：禁止反向工程、反向编译和反向汇编等等），而且别人写的补丁自己用起来的话心里也不踏实啊。那我们还是合法地在自己系统上做文章吧。灵格斯启动的时候应该是会先取得系统日期，然后和某个时间进行比较，超过这个时间的话它就强制升级（这只是我的猜测，绝对没有反向工程）。那我们就先把我们自己的系统日期改成一个较早的日子吧，早到灵格斯都还没出生的日子，等灵格斯启动之后再把系统日期改回来。可以用批处理这样做：<br/>
<pre lang="dos" line="1">
@echo off
set oldyear=2004
set oldmonth=01
set oldday=01
rem 上面是要改成的时间，早到能启动就行了
set fileflag=0
if exist getcurrentdate.nul (set fileflag=1
copy getcurrentdate.nul /Y getcurrentdate.backup)
date /t > getcurrentdate.nul
for /F “tokens=1,2,3 delims=- ” %%i in (getcurrentdate.nul) do (set currentyear=%%i
set currentmonth=%%j
set currentday=%%k)
date %oldyear%-%oldmonth%-%oldday%
if NOT errorlevel 0  (echo 设置时间时出错
pause
exit)
date /t
start “” /D”D:\Program Files\lingoes_portable_2.6.3_zh” Lingoes.exe
rem  上面一行是运行灵格斯，D:\Program Files\lingoes_portable_2.6.3_zh是我电脑上的灵格斯安装目录路径，根据你自己的情况更改
if NOT errorlevel 0 (echo 启动时出错
pause
gote end)
ping 127.1 -n 7 >nul
rem 上面是为了延时，因为灵格斯启动时取得系统日期是要一定时间的，一般ping个三四次就够了，如果嫌慢自己改小点吧
:end
del getcurrentdate.nul
if %fileflag% EQU 1 rename getcurrentdate.backup getcurrentdate.nul
date %currentyear%-%currentmonth%-%currentday%
exit
</pre>
<p> </p>明白的话下面部分就没必要看了，就是：<br/>1.先看你的灵格斯是放在哪个目录，把这个目录路径记下，比如我的就是D:\Program Files\lingoes_portable_2.6.3_zh；<br/>2.新建一个文本文件，用文本编辑器打开，把上面批处理的内容复制进去，把start "" /D"D:\Program Files\lingoes_portable_2.6.3_zh" Lingoes.exe那一行（就是红色字体那一行）里面的目录路径（蓝色背景那部分）改成步骤1记下的目录路径，保存后把文件名改成bat结尾的形式，例如：lgs.bat;<br/>3.双击这个批处理文件就直接运行灵格斯词霸了。<br/><p>你可以把lgs.bat放在任意位置，也可以为它创建桌面快捷方式（这样可以改图标和用快捷键运行）。对常用的软件，我喜欢建个目录，然后为这个目录设置环境变量，在这个目录下创建启动常用软件的批处理，例如把上面那个lgs.bat放进来，这样用快捷键win+r后输入lgs就运行了。当然每个人操作习惯是不同的。</p><p>这个批处理是有个bug的，就是如果你刚好在系统更换日期前的瞬间运行的话，例如在23点59分59秒运行这个批处理，运行后你的系统日期会后退一天。不过你应该也像我一样，不可能在那个时刻做这样的事情的。</p><p>update:开机后第一次运行ping 127.1四五次是不够的，因为灵格斯会加载很多数据到内存。非第一次运行的话ping个三四次就够了，现在我把它改成7次。改了个错字（原来的@echo off写成@echo 0ff）。</p><br/><br/>附：<a target="_blank" href="http://www.lingoes.cn/zh/translator/license.htm">『灵格斯翻译家』最终用户许可协议</a>（见http://www.lingoes.cn/zh/translator/license.htm）<br/>『灵格斯翻译家』最终用户许可协议<br/>Lingoes Translator End-User License Agreenent<br/>在使用本软件的同时，你已经默认接受了此协议。<br/>请仔细阅读以下使用许可，如果您不同意以下任何一点，请立即停止使用此软件。<br/><br/>Kevin Yau 将本软件程序的最终使用许可权授予您，但您必须向 Kevin Yau 作以下保证：<br/><br/>本《最终用户许可协议》(以下称《协议》)是您(个人或机构团体)与上述软件(以下称“软件”或“软件产品”)版权所有人 Kevin Yau 之间的法律协议。 在您使用本软件产品之前,请务必阅读此《协议》，任何与《协议》有关的软件、电子文档等都应是按本协议的条款而授予您的，同时本《协议》亦适用于任何有关本软件产品的后期发行和升级。 您一旦安装、复制、下载、访问或以其它方式使用本软件产品，即表示您同意接受本《协议》各项条款的约束。 如您不同意本《协议》的条款，那么，版权所有人 Kevin Yau 则不予将本软件产品的使用权授予您。 在这种情况下，您不得使用、复制或传播本软件产品。 <br/><br/>本《协议》中，将软件使用用途分为“个人非商业用途”和“商业用途”：个人用途指个人在非团体机构中使用本软件并用于非商业目的；商业用途指个人用于任何商业目的或团体机构出于任何目的使用本软件。本《协议》中对于个人非商业用途和商业用途将采用不同的授权范围和使用方式。<br/><br/>本软件产品受著作权法及国际著作权条约和其它知识产权法及条约的保护。<br/>1. 许可证的授予. 本《协议》授予您下列权利<br/>安装和使用: <br/>对于个人非商业用途，即仅供个人用户用于非商业环境及非盈利活动，您可安装无限制数量的本软件产品来使用。 对于商业用途，你必须预先获得版权人授权许可后才能安装和使用本软件产品。 <br/><br/>复制、分发和传播: <br/>您可以复制、分发和传播无限制数量的软件产品, 但您必须保证每一份复制、分发和传播都必须是完整和真实的, 包括所有有关本软件产品的软件、电子文档, 版权和商标宣言, 亦包括本协议. <br/><br/>本软件可以独立分发亦可随同其他软件一起分发, 但如因此而引起任何问题, 版权人将不予承担任何责任.<br/><br/>2. 其它权利和限制说明<br/>禁止反向工程、反向编译和反向汇编：<br/>您不得对本软件产品进行反向工程、反向编译和反向汇编，同时不得改动编译在程序文件内部的任何资源。 除非适用法律明文允许上述活动，否则您必须遵守此协议限制。 <br/><br/>组件的分隔：<br/>本软件产品是被当成一个单一产品而被授予许可使用，不得将各个部分分开用于任何目的行动。 <br/><br/>软件产品转让：<br/>您可以在不保留任何副本的情况下，将本“软件产品”(包括所有组成部分、媒体内容和印刷材料、任何更新版本、本《协议》等)全部转让，并且受让人接受本《协议》的各项条件下，您可永久转让您在本《协议》下的所有权利。 如果本“软件产品”为更新版本，转让时必须包括本“软件产品”所有前版本。 <br/><br/>终止：<br/>如您未遵守本《协议》的各项条件，在不损害其它权利的情况下，版权人可将本《协议》终止。 如发生此种情况，则您必须销毁“软件产品”及其各部分的所有副本。 <br/><br/>商标：<br/>本《协议》不授予您由版权人 Kevin Yau 所拥有的任何商标或服务商标有关的任何权利。 <br/><br/>使用方式：<br/>对于个人非商业用途，本软件产品准许个人用户免费使用。凡用于商业用途，均须得到版权人授权许可。<br/><br/>本软件产品不能用于销售或随同旨在获益的软件产品或产品包一起分发，但本软件可包含在任何免费或非赢利性的软件产品或产品包里. 同时您必须保证所分发的软件包含全部文件, 并且未作任何修改。<br/><br/>个别授权: <br/>如有任何组织或个人利用本软件以任何方式为公众服务并同时满足其自身特定目的而分发、复制和传播本软件产品, 均须得到版权人授权同意后方可进行, 否则视为侵权.<br/><br/>3. 版权<br/>本软件产品（包括但不限于本软件产品中所含的任何图象、照片、动画、文字和附加程序，不包含本软件可访问的词典及其内容）、随附的印刷材料、及本软件产品的任何副本的一切所有权和知识产权，均由版权人 Kevin Yau 拥有。<br/><br/>通过使用本“软件产品”可访问的词典及其内容的一切所有权和知识产权，均属于各自内容的所有者拥有，并可能受适用著作权或其它知识产权法律和条约的保护，本《协议》不授予您使用这些内容的权利。如果您需要使用，应当另外取得词典及其内容所有者的同意和授权。<br/><br/>4. 有限保证<br/>无保证：<br/>本软件版权人 Kevin Yau 特此申明对本软件产品之使用不提供任何保证。 版权人将不对任何用户保证本软件产品的适用性，不保证无故障产生；亦不对任何用户使用此软件所遭遇到的任何理论上的或实际上的损失承担负责。<br/><br/>对造成损失无责任：<br/>本软件版权人对本软件产品可能或已知问题造成的意外，连续，直接或间接损失不承担任何责任(包括利益损失，商业中断，信息丢失或其他任何经济上的损失)。<br/><br/>5. 其它<br/>本软件版权人 Kevin Yau 对本协议拥有最终解释权。<br/><br/> 2006-2007 Kevin Yau 版权所有，保留所有权利。
